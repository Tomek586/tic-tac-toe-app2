(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[432],{3110:(e,s,t)=>{Promise.resolve().then(t.bind(t,7147))},9783:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(5155);let r=()=>(0,a.jsx)("footer",{className:"bg-gray-800 text-white py-0.5 w-full absolute bottom-0 left-0",children:(0,a.jsxs)("div",{className:"container mx-auto text-center",children:[(0,a.jsx)("p",{children:"Tic Tac Toe Game"}),(0,a.jsx)("p",{children:"Stworzone przez Tomasz Dziedzic"})]})})},1788:(e,s,t)=>{"use strict";t.d(s,{A:()=>n,O:()=>d});var a=t(5155),r=t(2115),i=t(399),l=t(7982);let c=(0,r.createContext)(),d=e=>{let{children:s}=e,[t,d]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,i.hg)(l.j2,e=>{d(e),o(!1)});return()=>e()},[]);let x=async(e,s)=>{try{let t=(await (0,i.eJ)(l.j2,e,s)).user;return await (0,i.gA)(t),t}catch(e){if("auth/email-already-in-use"===e.code)throw Error("Ten e-mail jest już zarejestrowany.");throw console.error("Registration failed",e),e}},h=async()=>{try{await (0,i.CI)(l.j2),d(null)}catch(e){console.error("Logout failed",e)}};return((0,r.useEffect)(()=>{t&&!t.emailVerified&&((0,i.CI)(l.j2),alert("Proszę zweryfikować sw\xf3j e-mail."),window.location.href="/user/verify")},[t]),n)?(0,a.jsx)("p",{children:"Ładowanie..."}):(0,a.jsx)(c.Provider,{value:{user:t,login:e=>{d(e)},logout:h,register:x,isEmailVerified:()=>!!t&&t.emailVerified,getUid:()=>t?t.uid:null},children:s})},n=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},7982:(e,s,t)=>{"use strict";t.d(s,{db:()=>d,j2:()=>c});var a=t(9904),r=t(399),i=t(7058);let l=(0,a.Wp)({apiKey:"AIzaSyBotJKG9EWGsrgiejAoM1NL0Bvvd33I-W8",authDomain:"tic-tac-toe-app-79c26.firebaseapp.com",projectId:"tic-tac-toe-app-79c26",storageBucket:"tic-tac-toe-app-79c26.firebasestorage.app",messagingSenderId:"6533018953",appId:"1:6533018953:web:6fa7d5fb91184ca4a2d698",measurementId:"G-TX7YLBF3YB"}),c=(0,r.xI)(l),d=(0,i.aU)(l)},7147:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(5155),r=t(2115),i=t(7982),l=t(7058),c=t(1788);let d=()=>(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-t-4 border-gray-200 border-solid rounded-full animate-spin border-t-blue-500"}),(0,a.jsx)("span",{className:"text-xl text-gray-700",children:"Ładowanie..."})]}),n=e=>{let{message:s}=e;return(0,a.jsx)("div",{className:"error-message",children:s})};var o=t(9783);let x=()=>{let{user:e}=(0,c.A)(),[s,t]=(0,r.useState)(null),[x,h]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),p=async()=>{try{let s=(0,l.H9)(i.db,"users",e.uid),a=await (0,l.x7)(s);if(a.exists()){let e=a.data();e.games?t(e.games):m("Brak statystyk gier dla tego użytkownika.")}else m("Nie znaleziono danych dla tego użytkownika.")}catch(e){m("Błąd podczas pobierania danych użytkownika.")}finally{h(!1)}};return((0,r.useEffect)(()=>{e&&p()},[e]),x)?(0,a.jsx)(d,{}):u?(0,a.jsx)(n,{message:u}):(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Statystyki Gracza"}),s&&(0,a.jsxs)("div",{className:"bg-white p-4 rounded shadow-md mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Twoje statystyki"}),(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"Statystyka"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left",children:"Wartość"})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2",children:"Wygrane"}),(0,a.jsx)("td",{className:"px-4 py-2",children:s.Wins})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2",children:"Przegrane"}),(0,a.jsx)("td",{className:"px-4 py-2",children:s.Losses})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2",children:"Remisy"}),(0,a.jsx)("td",{className:"px-4 py-2",children:s.Draws})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2",children:"Łącznie Gier"}),(0,a.jsx)("td",{className:"px-4 py-2",children:s.TotalGames})]})]})]})]}),(0,a.jsx)(o.A,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,882,459,441,517,358],()=>s(3110)),_N_E=e.O()}]);