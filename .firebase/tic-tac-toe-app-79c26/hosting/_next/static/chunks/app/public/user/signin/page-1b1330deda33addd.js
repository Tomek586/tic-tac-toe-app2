(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{8409:(e,t,r)=>{Promise.resolve().then(r.bind(r,9223))},1788:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,O:()=>n});var a=r(5155),s=r(2115),l=r(399),i=r(7982);let u=(0,s.createContext)(),n=e=>{let{children:t}=e,[r,n]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,l.hg)(i.j2,e=>{n(e),c(!1)});return()=>e()},[]);let d=async(e,t)=>{try{let r=(await (0,l.eJ)(i.j2,e,t)).user;return await (0,l.gA)(r),r}catch(e){if("auth/email-already-in-use"===e.code)throw Error("Ten e-mail jest już zarejestrowany.");throw console.error("Registration failed",e),e}},m=async()=>{try{await (0,l.CI)(i.j2),n(null)}catch(e){console.error("Logout failed",e)}};return((0,s.useEffect)(()=>{r&&!r.emailVerified&&((0,l.CI)(i.j2),alert("Proszę zweryfikować sw\xf3j e-mail."),window.location.href="/user/verify")},[r]),o)?(0,a.jsx)("p",{children:"Ładowanie..."}):(0,a.jsx)(u.Provider,{value:{user:r,login:e=>{n(e)},logout:m,register:d,isEmailVerified:()=>!!r&&r.emailVerified,getUid:()=>r?r.uid:null},children:t})},o=()=>{let e=(0,s.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},7982:(e,t,r)=>{"use strict";r.d(t,{db:()=>n,j2:()=>u});var a=r(9904),s=r(399),l=r(7058);let i=(0,a.Wp)({apiKey:"AIzaSyBotJKG9EWGsrgiejAoM1NL0Bvvd33I-W8",authDomain:"tic-tac-toe-app-79c26.firebaseapp.com",projectId:"tic-tac-toe-app-79c26",storageBucket:"tic-tac-toe-app-79c26.firebasestorage.app",messagingSenderId:"6533018953",appId:"1:6533018953:web:6fa7d5fb91184ca4a2d698",measurementId:"G-TX7YLBF3YB"}),u=(0,s.xI)(i),n=(0,l.aU)(i)},9223:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(5155),s=r(2115),l=r(399),i=r(7982),u=r(6046),n=r(1788);function o(){let[e,t]=(0,s.useState)(""),[r,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(null),m=(0,u.useRouter)(),{login:f}=(0,n.A)(),h=async t=>{t.preventDefault(),d(null);try{let t=await (0,l.x9)(i.j2,e,r);console.log("Logged in user:",t.user),f(t.user),m.push("/")}catch(e){d("Invalid email or password"),console.error(e)}};return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"w-full max-w-md p-8 bg-white shadow-md rounded-md",children:[(0,a.jsx)("h2",{className:"mb-6 text-2xl font-bold text-center text-gray-700",children:"Sign In"}),(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-600",children:"Email"}),(0,a.jsx)("input",{type:"email",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:ring-blue-200",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-600",children:"Password"}),(0,a.jsx)("input",{type:"password",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:ring-blue-200",value:r,onChange:e=>o(e.target.value),required:!0})]}),c&&(0,a.jsx)("p",{className:"mb-4 text-sm text-red-600",children:c}),(0,a.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Sign In"})]})]})})}},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[992,882,459,441,517,358],()=>t(8409)),_N_E=e.O()}]);