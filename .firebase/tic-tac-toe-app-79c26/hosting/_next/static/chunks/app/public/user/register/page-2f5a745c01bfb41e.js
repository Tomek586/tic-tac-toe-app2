(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{8828:(e,a,t)=>{Promise.resolve().then(t.bind(t,6770))},1788:(e,a,t)=>{"use strict";t.d(a,{A:()=>u,O:()=>n});var r=t(5155),s=t(2115),i=t(399),o=t(7982);let l=(0,s.createContext)(),n=e=>{let{children:a}=e,[t,n]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,i.hg)(o.j2,e=>{n(e),d(!1)});return()=>e()},[]);let c=async(e,a)=>{try{let t=(await (0,i.eJ)(o.j2,e,a)).user;return await (0,i.gA)(t),t}catch(e){if("auth/email-already-in-use"===e.code)throw Error("Ten e-mail jest już zarejestrowany.");throw console.error("Registration failed",e),e}},m=async()=>{try{await (0,i.CI)(o.j2),n(null)}catch(e){console.error("Logout failed",e)}};return((0,s.useEffect)(()=>{t&&!t.emailVerified&&((0,i.CI)(o.j2),alert("Proszę zweryfikować sw\xf3j e-mail."),window.location.href="/user/verify")},[t]),u)?(0,r.jsx)("p",{children:"Ładowanie..."}):(0,r.jsx)(l.Provider,{value:{user:t,login:e=>{n(e)},logout:m,register:c,isEmailVerified:()=>!!t&&t.emailVerified,getUid:()=>t?t.uid:null},children:a})},u=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},7982:(e,a,t)=>{"use strict";t.d(a,{db:()=>n,j2:()=>l});var r=t(9904),s=t(399),i=t(7058);let o=(0,r.Wp)({apiKey:"AIzaSyBotJKG9EWGsrgiejAoM1NL0Bvvd33I-W8",authDomain:"tic-tac-toe-app-79c26.firebaseapp.com",projectId:"tic-tac-toe-app-79c26",storageBucket:"tic-tac-toe-app-79c26.firebasestorage.app",messagingSenderId:"6533018953",appId:"1:6533018953:web:6fa7d5fb91184ca4a2d698",measurementId:"G-TX7YLBF3YB"}),l=(0,s.xI)(o),n=(0,i.aU)(o)},6770:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var r=t(5155),s=t(2115),i=t(1788),o=t(6046);let l=()=>{let{register:e}=(0,i.A)(),a=(0,o.useRouter)(),[t,l]=(0,s.useState)(""),[n,u]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(!1),g=()=>t&&n&&d?n.length<6?(h("Hasło musi mieć co najmniej 6 znak\xf3w."),!1):n===d||(h("Hasła muszą się zgadzać."),!1):(h("Wszystkie pola są wymagane."),!1),j=async r=>{if(r.preventDefault(),h(""),p(!0),!g()){p(!1);return}try{await e(t,n),a.push("/verify")}catch(e){"Ten e-mail jest już zarejestrowany."===e.message?h("Ten e-mail jest już zarejestrowany. Spr\xf3buj się zalogować."):h("Coś poszło nie tak. Spr\xf3buj ponownie.")}finally{p(!1)}};return(0,r.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Rejestracja"}),(0,r.jsxs)("form",{onSubmit:j,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",className:"w-full p-3 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Wprowadź email",value:t,onChange:e=>l(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Hasło"}),(0,r.jsx)("input",{id:"password",type:"password",className:"w-full p-3 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Wprowadź hasło",value:n,onChange:e=>u(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Potwierdź hasło"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",className:"w-full p-3 mt-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Potwierdź hasło",value:d,onChange:e=>c(e.target.value),required:!0})]}),m&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-2",children:m}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"w-full mt-4 p-3 text-white font-semibold rounded-lg ".concat(f?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"),children:f?"Rejestracja...":"Zarejestruj się"})]})]})})}},6046:(e,a,t)=>{"use strict";var r=t(6658);t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})}},e=>{var a=a=>e(e.s=a);e.O(0,[992,882,459,441,517,358],()=>a(8828)),_N_E=e.O()}]);