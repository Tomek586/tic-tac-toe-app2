(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3360:(e,r,t)=>{Promise.resolve().then(t.bind(t,9245))},9245:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var l=t(5155);t(2115);var s=t(1788);t(9324);var a=t(7396);function i(e){let{children:r}=e;return(0,l.jsx)("html",{lang:"en",children:(0,l.jsx)("body",{children:(0,l.jsx)(s.O,{children:(0,l.jsx)(c,{children:r})})})})}function c(e){let{children:r}=e,{user:t,logout:i}=(0,s.A)();return(0,l.jsxs)("div",{className:"flex flex-col md:flex-row h-screen",children:[(0,l.jsx)("aside",{className:"w-full md:w-64 bg-gray-800 text-white flex-shrink-0",children:(0,l.jsxs)("nav",{className:"flex flex-col h-full",children:[(0,l.jsx)("div",{className:"flex items-center justify-center h-16 border-b border-gray-700",children:(0,l.jsx)("h1",{className:"text-xl font-bold",children:"My App"})}),(0,l.jsxs)("ul",{className:"flex flex-col mt-4 space-y-2 px-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/",className:"block px-4 py-2 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Home"})}),!t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/public/user/signin",className:"block px-4 py-2 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Sign In"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/public/user/register",className:"block px-4 py-2 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Register"})})]}),t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("li",{className:"flex items-center px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,l.jsxs)("span",{className:"flex-grow truncate",children:["Welcome,"," ",t.email]}),(0,l.jsx)("button",{onClick:i,className:"text-red-500 hover:text-red-600 transition-colors",children:"Logout"})]}),(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/protected/user/profile",className:"block px-4 py-2 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Profile"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/public/user/stats",className:"block px-4 py-2 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Statistics"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/public/user/game",className:"block px-4 py-2 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Game"})})]})]})]})}),(0,l.jsx)("main",{className:"flex-grow p-6 overflow-y-auto bg-gray-100",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto",children:r})})]})}},1788:(e,r,t)=>{"use strict";t.d(r,{A:()=>o,O:()=>n});var l=t(5155),s=t(2115),a=t(399),i=t(7982);let c=(0,s.createContext)(),n=e=>{let{children:r}=e,[t,n]=(0,s.useState)(null),[o,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,a.hg)(i.j2,e=>{n(e),d(!1)});return()=>e()},[]);let h=async(e,r)=>{try{let t=(await (0,a.eJ)(i.j2,e,r)).user;return await (0,a.gA)(t),t}catch(e){if("auth/email-already-in-use"===e.code)throw Error("Ten e-mail jest już zarejestrowany.");throw console.error("Registration failed",e),e}},u=async()=>{try{await (0,a.CI)(i.j2),n(null)}catch(e){console.error("Logout failed",e)}};return((0,s.useEffect)(()=>{t&&!t.emailVerified&&((0,a.CI)(i.j2),alert("Proszę zweryfikować sw\xf3j e-mail."),window.location.href="/user/verify")},[t]),o)?(0,l.jsx)("p",{children:"Ładowanie..."}):(0,l.jsx)(c.Provider,{value:{user:t,login:e=>{n(e)},logout:u,register:h,isEmailVerified:()=>!!t&&t.emailVerified,getUid:()=>t?t.uid:null},children:r})},o=()=>{let e=(0,s.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},7982:(e,r,t)=>{"use strict";t.d(r,{db:()=>n,j2:()=>c});var l=t(9904),s=t(399),a=t(7058);let i=(0,l.Wp)({apiKey:"AIzaSyBotJKG9EWGsrgiejAoM1NL0Bvvd33I-W8",authDomain:"tic-tac-toe-app-79c26.firebaseapp.com",projectId:"tic-tac-toe-app-79c26",storageBucket:"tic-tac-toe-app-79c26.firebasestorage.app",messagingSenderId:"6533018953",appId:"1:6533018953:web:6fa7d5fb91184ca4a2d698",measurementId:"G-TX7YLBF3YB"}),c=(0,s.xI)(i),n=(0,a.aU)(i)},7396:(e,r,t)=>{"use strict";t.d(r,{default:()=>s.a});var l=t(4839),s=t.n(l)},9324:()=>{}},e=>{var r=r=>e(e.s=r);e.O(0,[533,992,882,459,839,441,517,358],()=>r(3360)),_N_E=e.O()}]);